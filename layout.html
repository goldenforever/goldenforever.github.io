<!DOCTYPE html>
<html style="height:100%;" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Layout Parser</title>
</head>
<body style="margin:0;height:100%;overflow:hidden">
    <div style="width:50%;height:100%;position:absolute;">
        <textarea style="width:95%;height:100%" id="input"></textarea>
    </div>
    <div style="font-family:sans-serif;padding:2px;border:1px solid #ccc;width:50%;height:100%;right:0;position:absolute" id="output">

    </div>
    <input value="Generate" type="button" style="bottom:0;right:0;position:absolute" onclick="gen()">
    <script>
        function gen() {
            document.getElementById("output").innerHTML = selectLines(splitIntoLines(document.getElementById("input").value));
        }
        function splitIntoLines(str) {
            return str.split('\n');
        }
        function selectLines(arr) {
            var out = [], len, strlen, start = true, end = false;
            for (var i=0; i<arr.length; i++) {
                strlen = arr[i].trim().length;
                if (strlen != 0) {
                    if (start) {
                        len = strlen;
                        start = false;
                    } else if (len != strlen || end) {
                        return null;
                    }
                    out[out.length] = arr[i].trim();
                } else {
                    if (!start) {
                        end = true;
                    }
                }
            }
            return out;
        }
        setInterval(gen, 500);
    </script>
</body>
</html>